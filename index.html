<!DOCTYPE html>
<html lang="id">
<head>
Â  <meta charset="UTF-8">
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  <title>Login & Tambah Nomor</title>
Â  <style>
Â  Â  body {
Â  Â  Â  margin: 0;
Â  Â  Â  padding: 0;
Â  Â  Â  background: #0d0d0d;
Â  Â  Â  color: #fff;
Â  Â  Â  font-family: 'Segoe UI', sans-serif;
Â  Â  Â  display: flex;
Â  Â  Â  justify-content: center;
Â  Â  Â  align-items: center;
Â  Â  Â  height: 100vh;
Â  Â  Â  overflow: hidden;
Â  Â  Â  flex-direction: column;
Â  Â  }

Â  Â  canvas#particles {
Â  Â  Â  position: fixed;
Â  Â  Â  top: 0;
Â  Â  Â  left: 0;
Â  Â  Â  z-index: 0;
Â  Â  }

Â  Â  form {
Â  Â  Â  background: rgba(20, 20, 20, 0.9);
Â  Â  Â  padding: 20px;
Â  Â  Â  border-radius: 10px;
Â  Â  Â  box-shadow: 0 0 10px #00ffe0;
Â  Â  Â  position: relative;
Â  Â  Â  z-index: 1;
Â  Â  Â  width: 300px;
Â  Â  Â  margin-bottom: 20px;
Â  Â  }

Â  Â  input, button {
Â  Â  Â  width: 100%;
Â  Â  Â  padding: 10px;
Â  Â  Â  margin: 10px 0;
Â  Â  Â  border-radius: 5px;
Â  Â  Â  border: none;
Â  Â  Â  font-size: 14px;
Â  Â  }

Â  Â  input {
Â  Â  Â  background: #1a1a1a;
Â  Â  Â  color: #fff;
Â  Â  }

Â  Â  button {
Â  Â  Â  background: #00ffe0;
Â  Â  Â  color: #000;
Â  Â  Â  font-weight: bold;
Â  Â  Â  cursor: pointer;
Â  Â  Â  position: relative;
Â  Â  Â  overflow: hidden;
Â  Â  }

Â  Â  button::before, button::after {
Â  Â  Â  content: '';
Â  Â  Â  position: absolute;
Â  Â  Â  top: 0; left: 0;
Â  Â  Â  width: 100%;
Â  Â  Â  height: 100%;
Â  Â  Â  background: #00ffe0;
Â  Â  Â  mix-blend-mode: difference;
Â  Â  Â  animation: glitch 1s infinite;
Â  Â  Â  pointer-events: none;
Â  Â  }

Â  Â  button::after {
Â  Â  Â  animation-delay: 0.3s;
Â  Â  }

Â  Â  @keyframes glitch {
Â  Â  Â  0%, 100% { clip: rect(0, 9999px, 0, 0); }
Â  Â  Â  10% { clip: rect(0, 9999px, 3px, 0); }
Â  Â  Â  20% { clip: rect(0, 9999px, 6px, 0); }
Â  Â  Â  30% { clip: rect(0, 9999px, 1px, 0); }
Â  Â  }

Â  Â  #status {
Â  Â  Â  text-align: center;
Â  Â  Â  font-size: 0.85em;
Â  Â  Â  margin-top: 10px;
Â  Â  }

Â  Â  #formNomor {
Â  Â  Â  display: none;
Â  Â  Â  margin-top: 20px;
Â  Â  }
Â  </style>
</head>
<body>

<canvas id="particles"></canvas>

<form id="loginForm">
Â  <h3>Login Admin</h3>
Â  <input type="text" id="username" placeholder="Username" required>
Â  <input type="password" id="password" placeholder="Password" required>
Â  <button type="submit">ğŸ” Login</button>
Â  <div id="status"></div>
</form>

<form id="formNomor">
Â  <h3>Tambah Nomor</h3>
Â  <input type="text" id="nomorInput" placeholder="Nomor (62xxxx)" required>
Â  <button type="submit">â• Tambah ke Database</button>
Â  <div id="statusNomor"></div>
</form>

<script>
const akunURL = 'https://raw.githubusercontent.com/HanzyyOffc/akun/main/akun.json'; // <- Ganti sesuai akun
const databaseFilePath = 'database.json';
const repoOwner = 'HanzyyOffc'; // GitHub username
const repoName = 'HanzyyOffc'; Â  Â  Â // Nama repo
const branch = 'main'; Â  Â  Â  Â // Branch
const token = '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'; Â  // <- Masukkan GitHub Token kamu disini

const apiBase = `https://api.github.com/repos/${repoOwner}/${repoName}/contents/${databaseFilePath}`;

async function fetchRawJSON(url) {
Â  const res = await fetch(url);
Â  if (!res.ok) throw new Error('Gagal ambil data');
Â  return await res.json();
}

async function getDatabaseFile() {
Â  const res = await fetch(apiBase, {
Â  Â  headers: { Authorization: `token ${token}` }
Â  });
Â  if (!res.ok) throw new Error('Gagal ambil file GitHub');
Â  return await res.json();
}

async function updateDatabase(nomorBaru) {
Â  const file = await getDatabaseFile();
Â  const currentData = JSON.parse(atob(file.content));

Â  if (currentData.includes(nomorBaru)) return { status: 'exists' };

Â  currentData.push(nomorBaru);
Â  const updatedContent = btoa(JSON.stringify(currentData, null, 2));

Â  const updateRes = await fetch(apiBase, {
Â  Â  method: 'PUT',
Â  Â  headers: {
Â  Â  Â  Authorization: `token ${token}`,
Â  Â  Â  'Content-Type': 'application/json'
Â  Â  },
Â  Â  body: JSON.stringify({
Â  Â  Â  message: `Tambah nomor ${nomorBaru}`,
Â  Â  Â  content: updatedContent,
Â  Â  Â  sha: file.sha,
Â  Â  Â  branch
Â  Â  })
Â  });

Â  if (!updateRes.ok) throw new Error('Gagal update database');
Â  return { status: 'success' };
}

// HANDLE LOGIN
document.getElementById('loginForm').addEventListener('submit', async function (e) {
Â  e.preventDefault();
Â  const user = username.value.trim();
Â  const pass = password.value.trim();
Â  const statusBox = document.getElementById('status');

Â  statusBox.innerText = 'ğŸ”„ Memverifikasi...';

Â  try {
Â  Â  const akun = await fetchRawJSON(akunURL);
Â  Â  if (akun.username === user && akun.password === pass) {
Â  Â  Â  statusBox.innerText = 'âœ… Login berhasil!';
Â  Â  Â  document.getElementById('formNomor').style.display = 'block';
Â  Â  Â  document.getElementById('loginForm').style.display = 'none';
Â  Â  } else {
Â  Â  Â  statusBox.innerText = 'âŒ Username atau Password salah!';
Â  Â  }
Â  } catch (err) {
Â  Â  statusBox.innerText = 'âŒ Error: ' + err.message;
Â  }
});

// HANDLE TAMBAH NOMOR
document.getElementById('formNomor').addEventListener('submit', async function (e) {
Â  e.preventDefault();
Â  const nomor = nomorInput.value.trim();
Â  const statusNomor = document.getElementById('statusNomor');

Â  statusNomor.innerText = 'ğŸ”„ Menambahkan nomor...';

Â  try {
Â  Â  const result = await updateDatabase(nomor);
Â  Â  if (result.status === 'success') {
Â  Â  Â  statusNomor.innerText = 'âœ… Nomor berhasil ditambahkan!';
Â  Â  } else {
Â  Â  Â  statusNomor.innerText = 'âš ï¸ Nomor sudah ada di database.';
Â  Â  }
Â  } catch (err) {
Â  Â  statusNomor.innerText = 'âŒ Error: ' + err.message;
Â  }
});
</script>

<!-- ANIMASI BACKGROUND -->
<script>
const canvas = document.getElementById('particles');
const ctx = canvas.getContext('2d');
canvas.width = innerWidth;
canvas.height = innerHeight;

const particles = Array.from({length: 50}, () => ({
Â  x: Math.random() * canvas.width,
Â  y: Math.random() * canvas.height,
Â  r: Math.random() * 2 + 1,
Â  dx: (Math.random() - 0.5) * 0.5,
Â  dy: (Math.random() - 0.5) * 0.5
}));

function animateParticles() {
Â  ctx.clearRect(0, 0, canvas.width, canvas.height);
Â  for (let p of particles) {
Â  Â  ctx.beginPath();
Â  Â  ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
Â  Â  ctx.fillStyle = '#00ffe0';
Â  Â  ctx.fill();
Â  Â  p.x += p.dx;
Â  Â  p.y += p.dy;
Â  Â  if (p.x < 0 || p.x > canvas.width) p.dx *= -1;
Â  Â  if (p.y < 0 || p.y > canvas.height) p.dy *= -1;
Â  }
Â  requestAnimationFrame(animateParticles);
}
animateParticles();
</script>

</body>
</html>
